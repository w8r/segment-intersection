import{d as G,a as T,r as W}from"./vendor.89ed1c77.js";const J=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))g(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&g(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function g(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}};J();const y=[[0,0],[0,0]];function X(t,e,o,g,n,s,i,q,E=y,k=1e-6){const c=o-t,a=g-e,h=i-n,m=q-s,p=n-t,w=s-e;let u=c*m-a*h,H=u*u;const O=c*c+a*a,j=h*h+m*m;if(H>k*O*j){const l=(p*m-w*h)/u;if(l<0||l>1)return 0;const d=(p*a-w*c)/u;if(d<0||d>1)return 0;const v=E[0];return l===0||l===1?(v[0]=t+l*c,v[1]=e+l*a):d===0||d===1?(v[0]=n+d*h,v[1]=s+d*m):(v[0]=t+l*c,v[1]=e+l*a),1}const C=p*p+w*w;if(u=p*a-w*c,H=u*u,H>k*O*C)return 0;const K=(c*p+a*w)/O,B=K+(c*h+a*m)/O;let L=0,S=0;const P=Math.min(K,B),F=Math.max(K,B),M=0,b=1;let x=0;if(b<P||M>F?x=0:b>P?M<F?(L=M<P?P:M,S=b>F?F:b,x=2):(L=M,x=1):(L=b,x=1),x>0){const l=E[0];if(l[0]=t+L*c,l[1]=e+L*a,x===2){const d=E[1];d[0]=t+S*c,d[1]=e+S*a}}return x}window.findIntersection=X;window.intersection=y;const N=window.innerWidth,z=window.innerHeight,f=20,I=15,r=[{x:280,y:260,index:0},{x:580,y:120,index:1},{x:380,y:130,index:2},{x:580,y:240,index:3}],Q=G().on("drag",U),$=T("body").append("svg").attr("width",N).attr("height",z);$.append("g").attr("class","vertical").selectAll(".vertical").data(W(1,N/f)).enter().append("line").attr("x1",t=>t*f).attr("y1",0).attr("x2",t=>t*f).attr("y2",z);$.append("g").attr("class","horizontal").selectAll(".horizontal").data(W(1,z/f)).enter().append("line").attr("x1",0).attr("y1",t=>t*f).attr("x2",N).attr("y2",t=>t*f);const R=$.append("g").selectAll("line").data([r[0],r[2]]).enter().append("line").attr("class","segment").attr("x1",t=>t.x).attr("y1",t=>t.y).attr("x2",t=>r[t.index+1].x).attr("y2",t=>r[t.index+1].y);$.selectAll("circle").data(r).enter().append("circle").attr("cx",t=>t.x).attr("cy",t=>t.y).attr("r",I).call(Q);const A=$.append("g").selectAll("circle").data(y).enter().append("circle").attr("class","intersection").classed("hidden",!0).attr("cx",t=>t[0]).attr("cy",t=>t[1]).attr("r",5);function U({x:t,y:e},o){const g=D(Math.max(I,Math.min(N-I,t)),f),n=D(Math.max(I,Math.min(z-I,e)),f);r[o.index].x=o.x=g,r[o.index].y=o.y=n,R.filter((i,q)=>o.index<2?q===0:q===1).attr("x1",i=>i.x).attr("y1",i=>i.y).attr("x2",i=>r[i.index+1].x).attr("y2",i=>r[i.index+1].y),T(this).attr("cx",o.x).attr("cy",o.y),Y()}function D(t,e){return t%e<e/2?t-t%e:t+e-t%e}function Y(){const t=X(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y);A.data(y).attr("cx",e=>e[0]).attr("cy",e=>e[1]),t===0?A.classed("hidden",!0):t===1?(A.classed("hidden",!0),A.filter((e,o)=>o===0).classed("hidden",!1)):t===2&&A.classed("hidden",!1),document.getElementById("output").innerHTML=t===0?"":t===1?`${_(y[0])}`:`${_(y[0])},
${_(y[1])}`,console.log("Intersection: ",t)}function _([t,e]){return`${t.toFixed(2)}, ${e.toFixed(2)}`}Y();
